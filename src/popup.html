<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Style Injector - Admin</title>
    <!-- External CSS Files -->
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/popup.css">
    <link rel="stylesheet" href="styles/admin-theme.css">
</head>

<body>
    <div class="header">
        <h1>DOM Style Injector</h1>
        <div class="subtitle">Administrative Control Panel</div>
    </div>

    <div class="content custom-scrollbar">
        <!-- Admin Stats -->
        <div class="section">
            <div class="admin-stats">
                <div class="stat-card">
                    <div class="stat-value" id="active-customizations">0</div>
                    <div class="stat-label">Active</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="published-customizations">0</div>
                    <div class="stat-label">Published</div>
                </div>
            </div>
        </div>

        <!-- Create/Sync Section -->
        <div class="section">
            <div class="admin-controls">
                <button id="create-button" class="btn btn-create">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                    </svg>
                    Create Customization
                </button>
                <button id="sync-button" class="btn btn-success">
                    <span id="sync-button-text">Sync with SharePoint</span>
                </button>
            </div>

            <div id="sync-status" class="text-sm text-muted"></div>

            <!-- Create Form (Initially Hidden) -->
            <div id="create-form" class="create-form">
                <form class="admin-form">
                    <div class="form-group">
                        <label class="form-label">Name</label>
                        <input type="text" id="customization-name" class="form-input"
                            placeholder="Header Background Color" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Domain Pattern</label>
                        <input type="text" id="domain-pattern" class="form-input" placeholder="*.dynamics.com" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Target Element</label>
                        <input type="text" id="target-element" class="form-input" placeholder="[data-id='form-header']"
                            required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">CSS Property</label>
                        <input type="text" id="css-property" class="form-input" placeholder="background-color" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label">CSS Value</label>
                        <input type="text" id="css-value" class="form-input" placeholder="#f0f0f0" required>
                    </div>

                    <div class="advanced-toggle" id="advanced-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                        Advanced Options
                    </div>

                    <div id="advanced-options" class="advanced-options">
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <textarea id="description" class="form-textarea" rows="2"
                                placeholder="Optional description..."></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="priority">Priority</label>
                            <select id="priority" class="form-select">
                                <option value="normal">Normal</option>
                                <option value="high">High</option>
                                <option value="critical">Critical</option>
                            </select>
                        </div>
                    </div>

                    <div style="display: flex; gap: var(--spacing-sm); margin-top: var(--spacing-md);">
                        <button type="submit" class="btn btn-primary">Save</button>
                        <button type="button" id="cancel-create" class="btn">Cancel</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Customizations List -->
        <div class="section">
            <h2 class="section-title">Customizations</h2>
            <div id="customization-container">
                <div class="customization-list custom-scrollbar" id="customization-list">
                    <div class="empty-state">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                        </svg>
                        <p>No customizations yet</p>
                        <p class="text-sm">Create your first customization to get started</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="error-container"></div>

    <script src="popup.js"></script>
</body>

</html>" id="total-customizations">0</div>
<div class="stat-label">Total</div>
</div>
<div class="stat-card">
    <div class="stat-value